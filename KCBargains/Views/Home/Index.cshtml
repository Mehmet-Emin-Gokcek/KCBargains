@{
    ViewData["Title"] = "Home Page";
}

<!-- Masthead-->
<header class="masthead">
    <div class="container">
        <div class="masthead-subheading">Bargain shoppers meet here!</div>
        <div class="masthead-heading text-uppercase">Find the best local deals</div>
        <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#services">Tell Me More</a>
    </div>
</header>
<!-- Services-->
<section class="page-section" id="services">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">KCBargains Platform</h2>
            <h3 class="section-subheading text-muted">In the face of increasing e-commerce activity, shopping at local brick and mortar stores provides a crucial way of supporting our communities.</h3>
        </div>
        <div class="row text-center">
            <div class="col-md-4">
                <span class="fa-stack fa-4x">
                    <i class="fas fa-circle fa-stack-2x text-primary"></i>
                    <i class="fas fa-people-arrows fa-stack-1x fa-inverse"></i>

                </span>
                <h4 class="my-3">Crowdsourcing</h4>
                <p class="text-muted">As shoppers visit stores they pick up the best local deals. Later on, they share the details of those deals on KCBargains platform.</p>
            </div>
            <div class="col-md-4">
                <span class="fa-stack fa-4x">
                    <i class="fas fa-circle fa-stack-2x text-primary"></i>
                    <i class="fas fa-laptop fa-stack-1x fa-inverse"></i>
                </span>
                <h4 class="my-3">Power of Sharing</h4>
                <p class="text-muted">Kansas City area residents visit the KCBargains website to view the best local deals before buying a product.</p>
            </div>
            <div class="col-md-4">
                <span class="fa-stack fa-4x">
                    <i class="fas fa-circle fa-stack-2x text-primary"></i>
                    <i class="fas fa-shopping-cart fa-stack-1x fa-inverse"></i>
                </span>
                <h4 class="my-3">Savings</h4>
                <p class="text-muted">Bargain shoppers go to the local stores with the best deals, and by doing so save ton of money and time.</p>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="demoLogin" tabindex="-1" role="dialog" aria-labelledby="demoLoginLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content card" id="demoLoginModal">
                    <div class="modal-header border-0 text-white" id="demoLoginModalHeader">
                        <div class="modal-title" id="exampleModalCenterTitle">
                            <div class="d-flex mr-5">
                            <button type="button" id="demoLoginModal" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button></div>
                            <div class="d-flex justify-content-center ml-5"><h4><b>Demo Login Options</b></h4></div>
                            <div class="d-flex justify-content-center ml-4"><a>Sign in using below demo accounts with different roles</a>
                            </div>
                        </div>
                        
                    </div>
                    <div class="modal-body">

                        <div class="row p-2 mr-5 ml-5 mb-3"><button class="btn btn-info btn-lg btn-block text-center"  id="basicUser" onclick="demoLogin('standarduser')" data-dismiss="modal"><i class="far fa-user"></i> Standard User</button></div>                        
                        <div class="row p-2 mr-5 ml-5 mb-3"><button class="btn btn-info btn-lg btn-block text-center"  id="Admin" onclick="demoLogin('admin')" data-dismiss="modal"><i class="far fa-user"></i> Admin</button></div>
                        <div class="row p-2 mr-5 ml-5 mb-3"> <button class="btn btn-info btn-lg btn-block text-center" id="superAdmin" onclick="demoLogin('superadmin')" data-dismiss="modal"><i class="far fa-user"></i> Super Admin</button></div>
                    </div>
                </div>
            </div>
        </div>


    </div>
</section>


<!--This will be used for overlay time out animation-->>
<div id="overlay">
    <div class="cv-spinner">
        <span class="spinner"></span>
    </div>
</div>



@section Scripts {
    <script type="text/javascript">
        //Make ajax post request to DemoLoginController by submitting admin/superadmin/basic user names
        function demoLogin(userName) {
            $.post("/DemoLogin/LoginUser", { userName: userName })
                .done(function (data) {
                    $("#overlay").fadeOut(1000); //overlay fadeout

                    //Refresh page, otherwise even though user is signed in, the page appears static. 
                    //DemoLoginController redirecting to Home / Index.cshtml doesn't work.
                    //After page reload user appears to be signed in.
                    location.reload(); 
            });
        }

        //ajaxSend() fires up when an AJAX request is completed.
        //With below setup it listens to all ajax requests in the page
        //But since there is only one ajax request there is no confusion
        $(document).ready(function () {
            $(document).ajaxSend(function () {
                $("#overlay").fadeIn(1000);
            });
        });
    </script>
}