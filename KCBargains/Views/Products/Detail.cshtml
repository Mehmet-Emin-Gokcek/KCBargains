@model Product


<div class="container w-75 p-3">
    <section class="page-section" id="portfolio">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Product Details</h2>
                <h3 class="section-subheading text-muted mb-2">Find more information on this product here.</h3>
            </div>

            @*-------Edit Product Button Hidden, will be triggered with any button click in the webform----------*@
            <a id="editProduct" class="btn btn-info text-uppercase btn-block" asp-controller="Products" asp-action="Edit" asp-route-id="@Model.Id" hidden>Edit Product</a>

            @*-------Product Picture and Info----------*@
        <div class="row align-items-center">
            <div class="col">
                <div id="carouselIndicators" class="carousel slide" data-ride="carousel">

                    <ol class="carousel-indicators">
                        @if (@Model.Picture2 != null)
                        {
                            <li data-target="#carouselIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselIndicators" data-slide-to="1"></li>
                        }
                        @if (@Model.Picture3 != null)
                        {
                            <li data-target="#carouselIndicators" data-slide-to="2" class="active"></li>
                        }
                        @if (@Model.Picture4 != null)
                        {
                            <li data-target="#carouselIndicators" data-slide-to="3" class="active"></li>
                        }
                    </ol>


                    <div class="carousel-inner ">

                        @*-----check to see if the deal has a picture---*@
                        @if (@Model.Picture != null)
                        {
                            <div class="carousel-item active">
                                <img class="d-block img-fluid rounded" src="~/images/@Model.Picture" alt="First slide" asp-append-version="true">
                            </div>
                        }

                        @*-----If there is no picture uploaded use the default picture---*@
                        else
                        { <div class="carousel-item active">
                                <img class="d-block img-fluid rounded" src="~/images/defaultPicture.jpg" alt="First slide" asp-append-version="true">
                            </div>

                        }

                        @*-----check to see if the deal has a second picture---*@
                        @if (@Model.Picture2 != null)
                        {
                            <div class="carousel-item">
                                <img class="d-block img-fluid rounded" src="~/images/@Model.Picture2" alt="Second slide" asp-append-version="true">
                            </div>
                        }

                        @*-----check to see if the deal has a third picture---*@
                        @if (@Model.Picture3 != null)
                        {
                            <div class="carousel-item">
                                <img class="d-block img-fluid rounded" src="~/images/@Model.Picture3" alt="Third slide" asp-append-version="true">
                            </div>
                        }

                        @*-----check to see if the deal has a fourth picture---*@
                        @if (@Model.Picture4 != null)
                        {
                            <div class="carousel-item">
                                <img class="d-block img-fluid rounded" src="~/images/@Model.Picture4" alt="Third slide" asp-append-version="true">
                            </div>
                        }
                    </div>
                    @if (@Model.Picture2 != null)//only show carousel arrows if there is more than one image uploaded
                    {
                        <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
                            <i class="fas fa-arrow-left fa-2x circle-icon" aria-hidden="true"></i>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
                            <i class="fas fa-arrow-right fa-2x circle-icon" aria-hidden="true"></i>
                            <span class="sr-only">Next</span>
                        </a>
                    }
                </div>

                @*-------Edit Picture Button----------*@
                <div class="container">
                    <div class="text-center" id="imagebutton">
                        <button class="btn btn-outline-dark"  onclick="myFunction()">
                            <span>
                                Edit
                                <i class="fas fa-edit" data-toggle="tooltip" data-placement="right" title="Edit Picture"></i>
                            </span>
                            </button>
                    </div>
                </div>
            </div>


            @*-------Product Info----------*@
            <div class="col">
                <table class="table table-hover bg-light">
                    <tr>
                        <th class="align-middle">Name</th>
                        <td class="align-middle">@Model.Name </td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit" data-toggle="tooltip" data-placement="right" title="Edit Name" onclick="myFunction()" ></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">Description</th>
                        <td class="align-middle">@Model.Description </td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit" data-toggle="tooltip" data-placement="right" title="Edit Description" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">Quantity</th>
                        <td class="align-middle"> @Model.Quantity</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit" data-toggle="tooltip" data-placement="right" title="Edit Quantity" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">Price</th>
                        <td class="align-middle"> @Model.Cost</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit Price" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">Category</th>
                        <td class="align-middle"> @Model.Category.Name</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit Category" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

            @*-------Retailer Info Button----------*@
            <div class="container" style="margin-bottom:0px; margin-top:0px">
                <div class="text-center">
                    <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#retailer">View Retailer</a>
                </div>
            </div>


            @*-------Retailer Information----------*@
        <section class="page-section" style="padding-top:0px; margin-bottom:0px;" id="retailer">
            <div class="text-center pt-3">
                <h2 class="section-heading text-uppercase">Retailer Details</h2>
                <h3 class="section-subheading text-muted mb-2">Find retailer information here.</h3>
            </div>


            <div class="align-items-center">
                <table class="w-75 m-auto table table-hover bg-light text-center">

                    <tr>
                        <th class="align-middle">Name</th>
                        <td class="align-middle">@Model.ProductRetailer.Name</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit Retailer Name" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">Street</th>
                        <td class="align-middle">@Model.ProductRetailer.Street</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit Street" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                        <th class="align-middle">City</th>
                        <td class="align-middle">@Model.ProductRetailer.City</td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit City" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <th class="align-middle">State</th>
                        <td class="align-middle">@Model.ProductRetailer.State </td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit State" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <th class="align-middle">Zipcode</th>
                        <td class="align-middle">@Model.ProductRetailer.Zipcode </td>
                        <td class="align-middle">
                            <button class="btn">
                                <i class="fas fa-edit  " data-toggle="tooltip" data-placement="right" title="Edit ZipCode" onclick="myFunction()"></i>
                            </button>
                        </td>
                    </tr>
                </table>
            </div>


            @*-------RetailerMap Button----------*@
            <div class="container" style="margin-bottom:0px; margin-top:20px">
                <div class="text-center">
                    <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#retailerMap">View Retailer Location</a>
                </div>
            </div>
        </section>

            @*-------Retailer Location----------*@
            <section class="page-section" style="padding-top:0px; padding-bottom:0px" id="retailerMap">
                <div class="container pt-xl-2">
                    <div class="text-center">
                        <h2 class="section-heading text-uppercase">Product Map</h2>
                        <h3 class="section-subheading text-muted mb-3">Find retail location below.</h3>
                    </div>
                    <div id="GoogleMaps" style="width:100%;height:400px;"></div>
                </div>
            </section>
            <script>
    function initMap() {
        var bounds = new google.maps.LatLngBounds();
        const map = new google.maps.Map(document.getElementById("GoogleMaps"), {
            zoom: 8,
            center: { lat: @Model.ProductRetailer.Latitude, lng: @Model.ProductRetailer.Longitude },
        });


        var marker = new google.maps.Marker({
            position: { lat: @Model.ProductRetailer.Latitude, lng: @Model.ProductRetailer.Longitude },
            map: map,
            label:"@Model.ProductRetailer.Name",
        });
    }
            </script>

            <script defer
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqXHMNoJJwES8K9SkbOgKejtmsH52QlYo&callback=initMap&libraries=&v=weekly">
            </script>

            <script type="text/javascript">
                //any button click in the webpage will trigger "edit product" button.
                function myFunction() {
                    var button = document.getElementById('editProduct');
                    button.click();
                }
            </script>
            <script type="text/javascript">
                //Initialize tooltip with jQuery
                $(document).ready(function () {
                    $('.tooltips').tooltip();
                });
            </script>





        </div>
    </section>
</div>
